<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>INJERTOS MODS — Final</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* ---------- Reset & base ---------- */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family: "Orbitron", Arial, sans-serif;
      background:#000;
      color:#fff;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow-x:hidden;
    }

    /* ---------- Background ---------- */
    .background-container{
      position:fixed;inset:0;
      background:url('https://imgur.com/VcWPdTD.jpg') center/cover no-repeat;
      filter:brightness(0.6);
      z-index:-10;
    }

    /* ---------- Intro overlay ---------- */
    #intro-overlay{
      position:fixed;inset:0;
      display:flex;flex-direction:column;align-items:center;justify-content:center;
      background:#000;z-index:99999;
      gap:20px;
    }
    #intro-overlay img{max-width:78%;height:auto;border-radius:12px}
    #intro-overlay button{
      padding:12px 28px;background:#ff1a1a;color:#fff;border:0;border-radius:12px;
      font-weight:700;font-size:1.25rem;cursor:pointer;box-shadow:0 0 30px rgba(255,0,0,0.6)
    }

    /* ---------- Page content ---------- */
    #mainContent{display:none;padding:38px 16px;text-align:center;z-index:1;position:relative}
    h1{font-size:3rem;color:#ff1a1a;text-shadow:0 0 20px #ff0000;margin-bottom:10px}
    p.lead{font-weight:700;color:#ffdddd;margin-bottom:20px}

    .filters{display:flex;gap:12px;justify-content:center;margin-bottom:18px;flex-wrap:wrap}
    .filter-btn{padding:10px 18px;border-radius:12px;border:2px solid #ff1a1a;background:#111;color:#fff;cursor:pointer}
    .filter-btn.active{background:#ff1a1a;color:#111}

    .view{max-width:1200px;margin:10px auto}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(260px,1fr));gap:18px}

    .card{background:rgba(0,0,0,0.65);border:2px solid #ff1a1a;border-radius:14px;padding:18px;box-shadow:0 0 40px rgba(255,0,0,0.08);text-align:center}
    .card img{width:110px;height:110px;border-radius:50%;object-fit:cover;border:3px solid #ff1a1a;margin-bottom:12px}

    .video-wrapper{position:relative;padding-bottom:56.25%;height:0;border-radius:12px;overflow:hidden}
    .video-wrapper iframe{position:absolute;inset:0;width:100%;height:100%;border:0;border-radius:12px}

    .download-btn{display:inline-block;margin-top:10px;padding:10px 18px;border-radius:10px;background:#ff1a1a;color:#fff;text-decoration:none;font-weight:700}

    /* ---------- Floating music player (simple) ---------- */
    #floating-player{
      position:fixed;left:20px;bottom:20px;background:rgba(12,0,0,0.9);border:2px solid #ff1a1a;border-radius:14px;padding:10px 12px;
      display:flex;gap:8px;align-items:center;z-index:9998;box-shadow:0 0 30px rgba(255,0,0,0.3)
    }
    #floating-player button{background:transparent;border:0;color:#fff;cursor:pointer;font-size:18px}
    #volumeSlider{width:120px}

    /* ---------- Sharingan button & overlay ---------- */
    #sharingan-btn{
      position:fixed;right:20px;bottom:20px;width:68px;height:68px;border-radius:50%;z-index:100000;cursor:pointer;
      box-shadow:0 8px 30px rgba(255,0,0,0.35);
    }
    #sharingan-btn img{width:100%;height:100%;border-radius:50%;display:block;object-fit:cover;animation:spin 6s linear infinite}
    @keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}

    #sharingan-overlay{
      position:fixed;inset:0;background:rgba(0,0,0,0.98);display:flex;align-items:center;justify-content:center;visibility:hidden;opacity:0;transition:opacity .45s,z-index 0s .45s;
      z-index:100001;
    }
    #sharingan-overlay.active{visibility:visible;opacity:1}
    #sharingan-overlay img{width:58%;max-width:700px;border-radius:50%;box-shadow:0 0 60px rgba(255,0,0,0.8)}

    /* ---------- Xmas border lights container (3D-ish) ---------- */
    #xmas-border-lights{
      position:fixed;inset:0;pointer-events:none;z-index:99990;transform-style:preserve-3d;
      perspective:900px;
    }
    .xlight{
      position:absolute;width:18px;height:18px;border-radius:50%;
      box-shadow:0 0 14px rgba(255,255,255,0.12), inset 0 0 6px rgba(255,255,255,0.4);
      transform-origin:center center;
      transition:transform 300ms ease, box-shadow 300ms ease;
    }
    .xlight::after{
      content:"";position:absolute;inset:0;border-radius:50%;filter:blur(6px);opacity:0.7
    }
    .xlight.red{background:#ff3b3b;box-shadow:0 6px 22px rgba(255,59,59,0.65)}
    .xlight.green{background:#33ff88;box-shadow:0 6px 22px rgba(51,255,136,0.55)}
    .xlight.blue{background:#4da6ff;box-shadow:0 6px 22px rgba(77,166,255,0.55)}
    .xlight.yellow{background:#fff36b;box-shadow:0 6px 22px rgba(255,243,107,0.55)}

    /* floating "depth" animation to simulate 3D */
    @keyframes xfloat {
      0%{transform:translateZ(18px) scale(.9)}
      50%{transform:translateZ(40px) scale(1.06)}
      100%{transform:translateZ(18px) scale(.9)}
    }

    /* responsive */
    @media(max-width:700px){
      h1{font-size:2.2rem}
      .video-wrapper iframe{min-height:160px}
    }
  </style>
</head>

<body>
  <div class="background-container"></div>

  <!-- 3D border lights container -->
  <div id="xmas-border-lights"></div>

  <!-- Snow canvas -->
  <canvas id="snowCanvas" aria-hidden="true"></canvas>

  <!-- Intro -->
  <div id="intro-overlay" role="dialog" aria-hidden="false">
    <img src="https://i.pinimg.com/originals/44/9c/17/449c175588d56442fd162990ac428759.gif" alt="Intro">
    <button id="enterBtn">ENTRAR</button>
  </div>

  <!-- Sharingan button + overlay -->
  <div id="sharingan-btn" title="Activar Sharingan" aria-label="Activar Sharingan">
    <img src="https://media0.giphy.com/media/AD9YKaY2vxTXO/giphy.gif" alt="Sharingan">
  </div>
  <div id="sharingan-overlay" role="dialog" aria-hidden="true" tabindex="-1">
    <img src="https://i.pinimg.com/originals/44/9c/17/449c175588d56442fd162990ac428759.gif" alt="Sharingan overlay">
  </div>

  <!-- Main content -->
  <main id="mainContent" aria-live="polite">
    <h1>INJERTOS MODS</h1>
    <p class="lead">Página reducida — datos mínimos</p>

    <div class="filters" role="tablist" aria-label="Vistas">
      <button class="filter-btn active" onclick="showView('equipo', this)" aria-controls="equipo-view">EQUIPO</button>
      <button class="filter-btn" onclick="showView('aportes', this)" aria-controls="aportes-view">APORTES</button>
      <button class="filter-btn" onclick="showView('datas', this)" aria-controls="datas-view">DATAS</button>
      <button class="filter-btn" onclick="showView('tops', this)" aria-controls="tops-view">TOPS</button>
    </div>

    <section id="equipo-view" class="view">
      <div class="grid" id="staff-grid"></div>
      <h2 style="margin-top:18px;color:#ffbfa0">BOOSTER</h2>
      <div class="grid" id="boosters-grid"></div>
    </section>

    <section id="aportes-view" class="view" hidden></section>
    <section id="datas-view" class="view" hidden></section>
    <section id="tops-view" class="view" hidden></section>
  </main>

  <!-- Floating music player -->
  <div id="floating-player" aria-hidden="true">
    <button id="musicToggle" aria-label="Reproducir / Pausar"><i id="playPauseIcon" class="fas fa-play"></i></button>
    <input id="volumeSlider" type="range" min="0" max="1" step="0.01" value="0.5" aria-label="Volumen">
  </div>

  <!-- Audio elements -->
  <audio id="bg-music" loop preload="auto">
    <source src="https://files.catbox.moe/prpdpl.mp3" type="audio/mpeg">
  </audio>
  <audio id="sharingan-sound" preload="auto">
    <source src="https://files.catbox.moe/4dxgfn.mp3" type="audio/mpeg">
  </audio>

  <script>
  /* =======================
     Data: 1 item each
     ======================= */
  const staff = [
    { nombre: "HILNZO", rol: "Owner", avatar: "https://cdn.discordapp.com/avatars/1298301131641983019/a_1e3d8f261e5560ab8bec9d92777f0d.gif" }
  ];
  const boosters = [
    { nombre: "cami.rain", avatar: "https://cdn.discordapp.com/avatars/1419836001614037103/16c9ce1fbea9937535e1d54730ebccd3.png" }
  ];
  const aportes = [
    { titulo: "TIFFANY", creador: "HILNZO", contrasena: "tiffanyctmr", video: "https://youtube.com/embed/1Iq2YeDLVmM", descarga: "https://www.mediafire.com/file/wsiz41zichaeqxo/Tiffany.rar/file" }
  ];
  const datas = [
    { titulo: "DataBlue", creador: "MANZER", contrasena: "NO TIENE", video: "https://youtube.com/embed/Tv7fyMCG0G0", descarga: "https://www.mediafire.com/file/12efvtjw3392v58/DataBlue%F0%9F%94%B5MR%24.zip/file" }
  ];
  const tops = [
    { titulo: "SLICK SICK", autor: "HILNZO", descargas: 73, video: "https://youtube.com/embed/7P_oX1rxsjs", descarga: "https://www.mediafire.com/file/l6ucin55qy23set/slick_sick.rar/file" }
  ];

  /* =======================
     Render functions
     ======================= */
  function renderEquipo(){
    const sgrid = document.getElementById('staff-grid');
    sgrid.innerHTML = staff.map(s => `
      <div class="card" role="article">
        <img src="${s.avatar}" alt="${s.nombre}">
        <h3>${s.nombre}</h3>
        <p>${s.rol}</p>
      </div>
    `).join('');

    const bgrid = document.getElementById('boosters-grid');
    bgrid.innerHTML = boosters.map(b => `
      <div class="card" role="article">
        <img src="${b.avatar}" alt="${b.nombre}">
        <h3>${b.nombre}</h3>
        <p>BOOSTER</p>
      </div>
    `).join('');
  }

  function renderAportes(){
    const view = document.getElementById('aportes-view');
    view.innerHTML = `<div class="grid">${aportes.map(a => `
      <div class="card">
        <h3>${a.titulo}</h3>
        <p><b>Creador:</b> ${a.creador}</p>
        <p><b>Contraseña:</b> ${a.contrasena}</p>
        <div class="video-wrapper"><iframe src="${a.video}" allowfullscreen title="${a.titulo}"></iframe></div>
        <a class="download-btn" href="${a.descarga}" target="_blank">DESCARGAR</a>
      </div>
    `).join('')}</div>`;
  }

  function renderDatas(){
    const view = document.getElementById('datas-view');
    view.innerHTML = `<div class="grid">${datas.map(a => `
      <div class="card">
        <h3>${a.titulo}</h3>
        <p><b>Creador:</b> ${a.creador}</p>
        <p><b>Contraseña:</b> ${a.contrasena}</p>
        <div class="video-wrapper"><iframe src="${a.video}" allowfullscreen title="${a.titulo}"></iframe></div>
        <a class="download-btn" href="${a.descarga}" target="_blank">DESCARGAR</a>
      </div>
    `).join('')}</div>`;
  }

  function renderTops(){
    const view = document.getElementById('tops-view');
    view.innerHTML = `<div class="grid">${tops.map(t => `
      <div class="card">
        <h3>${t.titulo}</h3>
        <p><b>Autor:</b> ${t.autor}</p>
        <p><b>Descargas:</b> ${t.descargas}</p>
        <div class="video-wrapper"><iframe src="${t.video}" allowfullscreen title="${t.titulo}"></iframe></div>
        <a class="download-btn" href="${t.descarga}" target="_blank">DESCARGAR</a>
      </div>
    `).join('')}</div>`;
  }

  /* =======================
     Views
     ======================= */
  function showView(view, btn){
    document.querySelectorAll('.filter-btn').forEach(b=>b.classList.remove('active'));
    if(btn) btn.classList.add('active');
    ['equipo','aportes','datas','tops'].forEach(v => {
      const el = document.getElementById(v+'-view');
      if(!el) return;
      el.hidden = (v !== view);
    });

    if(view === 'equipo') renderEquipo();
    if(view === 'aportes') renderAportes();
    if(view === 'datas') renderDatas();
    if(view === 'tops') renderTops();
  }

  /* =======================
     Intro enter
     ======================= */
  const enterBtn = document.getElementById('enterBtn');
  enterBtn.addEventListener('click', () => {
    document.getElementById('intro-overlay').style.display = 'none';
    document.getElementById('mainContent').style.display = 'block';
    renderEquipo();
  });

  /* =======================
     Sharingan button
     ======================= */
  const sharinganBtn = document.getElementById('sharingan-btn');
  const sharinganOverlay = document.getElementById('sharingan-overlay');
  const sharinganSound = document.getElementById('sharingan-sound');
  sharinganBtn.addEventListener('click', () => {
    sharinganOverlay.classList.add('active');
    // play sound if unlocked (user interacted)
    try{ sharinganSound.currentTime = 0; sharinganSound.play().catch(()=>{}); }catch(e){}
    // optional redirect after a short delay (commented)
    // setTimeout(()=> location.href = "aportes-exclusivos.html", 3000);
  });
  sharinganOverlay.addEventListener('click', () => {
    sharinganOverlay.classList.remove('active');
    try{ sharinganSound.pause(); }catch(e){}
  });

  /* =======================
     Floating player
     ======================= */
  const bgMusic = document.getElementById('bg-music');
  const musicToggle = document.getElementById('musicToggle');
  const playPauseIcon = document.getElementById('playPauseIcon');
  const volumeSlider = document.getElementById('volumeSlider');

  let unlocked = false;
  function unlockAudio() {
    if(unlocked) return;
    unlocked = true;
    const d = new Audio();
    d.play().catch(()=>{});
  }

  musicToggle.addEventListener('click', (e) => {
    e.stopPropagation();
    unlockAudio();
    if(bgMusic.paused){
      bgMusic.play().catch(()=>{});
      playPauseIcon.className = 'fas fa-pause';
    } else {
      bgMusic.pause();
      playPauseIcon.className = 'fas fa-play';
    }
  });

  volumeSlider.addEventListener('input', (e) => {
    unlockAudio();
    bgMusic.volume = e.target.value;
  });

  document.body.addEventListener('click', unlockAudio, { once:true });
  document.body.addEventListener('touchstart', unlockAudio, { once:true });

  /* =======================
     Xmas border lights — 3D effect placement
     ======================= */
  (function createBorderLights(){
    const cont = document.getElementById('xmas-border-lights');
    if(!cont) return;
    const colors = ['red','green','blue','yellow'];
    const spacing = 36; // px
    const w = window.innerWidth;
    const h = window.innerHeight;
    const add = (x,y,color,delay)=>{
      const el = document.createElement('div');
      el.className = 'xlight '+color;
      el.style.left = (x)+'px';
      el.style.top = (y)+'px';
      el.style.animation = `xfloat ${1.1 + Math.random()*1.2}s ease-in-out ${delay}s infinite`;
      el.style.transform = `translateZ(${20 + Math.random()*30}px)`;
      // subtle rotation to increase 3D feel
      el.style.transform += ` rotateX(${5 + Math.random()*35}deg)`;
      cont.appendChild(el);
    };

    function build(){
      cont.innerHTML = '';
      // top
      for(let x=12;x<w-12;x+=spacing){
        add(x,6,colors[(x/spacing)%colors.length], Math.random());
      }
      // right
      for(let y=18;y<h-18;y+=spacing){
        add(w-18,y,colors[(y/spacing)%colors.length], Math.random());
      }
      // bottom
      for(let x=w-12;x>12;x-=spacing){
        add(x,h-18,colors[(x/spacing)%colors.length], Math.random());
      }
      // left
      for(let y=h-12;y>18;y-=spacing){
        add(6,y,colors[(y/spacing)%colors.length], Math.random());
      }
    }

    build();
    let rt;
    window.addEventListener('resize', ()=>{ clearTimeout(rt); rt=setTimeout(build,180); });
  })();

  /* =======================
     Snow realistic canvas
     ======================= */
  (function snowModule(){
    const canvas = document.getElementById('snowCanvas');
    const ctx = canvas.getContext('2d');
    let DPR = Math.max(1, window.devicePixelRatio || 1);
    let W=0, H=0;
    function resize(){
      DPR = Math.max(1, window.devicePixelRatio || 1);
      W = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);
      H = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);
      canvas.width = Math.floor(W * DPR);
      canvas.height = Math.floor(H * DPR);
      canvas.style.width = W + 'px';
      canvas.style.height = H + 'px';
      ctx.setTransform(DPR,0,0,DPR,0,0);
    }
    resize();
    window.addEventListener('resize', ()=>{ resize(); init(); });

    class Flake {
      constructor(first){
        this.reset(first);
      }
      reset(first=false){
        this.x = Math.random()*W;
        this.y = first ? Math.random()*H : -10 - Math.random()*H*0.05;
        this.baseSize = Math.random()*3.8 + 0.6;
        this.size = this.baseSize;
        this.depth = Math.random()*0.9 + 0.1;
        this.speed = (0.3 + this.depth*1.8) * (0.6 + Math.random()*0.8);
        this.wind = (Math.random()*0.8 - 0.4);
        this.angle = Math.random()*Math.PI*2;
        this.spin = (Math.random()*0.04 - 0.02);
        this.opacity = 0.35 + Math.random()*0.7;
      }
      update(now){
        this.angle += this.spin;
        this.y += this.speed + Math.sin(this.angle)*0.3;
        this.x += this.wind + Math.cos(this.angle*0.5)*0.2;
        this.size = this.baseSize * (0.9 + Math.sin(this.angle*2)*0.12);
        if(this.y > H + 10 || this.x < -30 || this.x > W + 30) this.reset();
      }
      draw(ctx){
        ctx.save();
        ctx.globalAlpha = Math.min(1, this.opacity);
        ctx.beginPath();
        ctx.fillStyle = 'rgba(255,255,255,0.18)';
        ctx.arc(this.x,this.y,this.size*1.8,0,Math.PI*2);
        ctx.fill();
        ctx.beginPath();
        ctx.fillStyle = 'rgba(255,255,255,0.95)';
        ctx.arc(this.x,this.y,this.size,0,Math.PI*2);
        ctx.fill();
        ctx.restore();
      }
    }

    let flakes = [];
    function init(){
      flakes.length = 0;
      const area = W * H;
      const count = Math.max(80, Math.min(260, Math.round(area / (1280*720) * 200)));
      for(let i=0;i<count;i++) flakes.push(new Flake(true));
    }
    init();

    let last = performance.now();
    function loop(now){
      const dt = now - last;
      last = now;
      ctx.clearRect(0,0,W,H);
      // sort for depth (smaller first)
      flakes.sort((a,b)=> a.baseSize - b.baseSize);
      for(const f of flakes){ f.update(now); f.draw(ctx); }
      requestAnimationFrame(loop);
    }
    requestAnimationFrame(loop);
  })();

  /* =======================
     YouTube API: optional load when user opens aportes/datas/tops with iframe controls
     (we keep simple — embed iframes directly)
     ======================= */

  /* =======================
     Init: default view
     ======================= */
  // Wait small delay so intro assets load nicely
  window.addEventListener('load', ()=> {
    // mainContent remains hidden until enter
    // Pre-render mini content for speed
    renderEquipo();
  });

  </script>
</body>
</html>
